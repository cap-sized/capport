{
    "pipelines": [
        {
            "label": "cs_player_data",
            "stage": [
                {
                    "label": "cs_player_data",
                    "job": "mongo_csdb",
                    "litargs": {
                        "table": "players",
                        "action": "match",
                        "match": {}
                    }
                },
                {
                    "label": "nhl_player_urls",
                    "job": "http_request_generate",
                    "varargs": {
                        "df": "$cs_player_data"
                    },
                    "litargs": {
                        "svc": "nhl_api",
                        "endpoint": "players",
                        "select": "player_ids.NHL",
                    }
                },
                {
                    "label": "nhl_players",
                    "job": "http_request_json",
                    "varargs": {
                        "url": "$nhl_player_urls"
                    }
                },
                {
                    "label": "cs_person",
                    "job": "map_transform",
                    "varargs": {
                        "df": "$nhl_players"
                    },
                    "litargs": {
                        "mapping": "nhl_player_to_person"
                    }
                },
                {
                    "label": "cs_player",
                    "job": "map_transform",
                    "varargs": {
                        "df": "$nhl_players"
                    },
                    "litargs": {
                        "mapping": "nhl_player_to_player"
                    }
                }
            ]
        }
    ]
}